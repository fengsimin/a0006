<?php
//Copyright (c) 2016 iFeiwu.com
 class Ifeiwu { protected $db; protected $table; protected $fields; protected $order; protected $admin; public function __construct() { goto C7FkL; IcIQd: $this->prefix = $this->db->getPrefix(); goto bKnF4; bKnF4: $this->fields = $this->_getTableFields($this->table); goto pEonj; Wo_fi: oV6ku: goto WGWFM; C7FkL: $this->admin = $_GET["\141\144\155\151\x6e"]; goto WnVEb; H_xCH: rjMog: goto AP1WO; swkSy: if (!in_array("\163\157\162\164\142\x79", $this->fields)) { goto rjMog; } goto fd5dI; AdCpp: $this->order[] = "\143\164\x69\x6d\x65\x20\x44\105\123\x43"; goto hxg5G; WnVEb: if (!$this->table) { goto oV6ku; } goto ntfAI; AP1WO: if (!in_array("\143\164\x69\155\x65", $this->fields)) { goto aGDsP; } goto AdCpp; hxg5G: aGDsP: goto Wo_fi; pEonj: $this->order = array(); goto swkSy; ntfAI: $this->db = ifeiwu\Db::getInstance(); goto IcIQd; fd5dI: $this->order[] = "\163\x6f\162\x74\142\171\x20\104\105\123\x43"; goto H_xCH; WGWFM: } public function __destruct() { goto SUtc3; SUtc3: if (!APP_DEBUG) { goto BrXMv; } goto lGObN; lGObN: $this->_debug($this->db->log()); goto e019e; e019e: BrXMv: goto UvDgR; UvDgR: } protected function error($message = '', $data = null) { return $this->_result(1, $message, $data); } protected function success($message = '', $data = null) { return $this->_result(0, $message, $data); } protected function _result($code = 0, $message = '', $data = null) { goto eHbTA; yZZ9_: $res["\144\x61\164\141"] = $message; goto dYHuL; CnxB8: $res["\155\145\163\163\141\147\145"] = $message; goto zaPW_; eHbTA: $res = array(); goto dke4G; kyR6Q: n3nQE: goto yZZ9_; RuV1Z: $res["\x64\x61\x74\x61"] = $data; goto AFdL4; iJB99: return $res; goto d4kjy; dke4G: $res["\143\157\144\x65"] = $code; goto IQWrS; AFdL4: m0aQZ: goto iJB99; jS8sA: if (!$data) { goto m0aQZ; } goto RuV1Z; dYHuL: uL2gU: goto jS8sA; zaPW_: goto uL2gU; goto kyR6Q; IQWrS: if (is_array($message)) { goto n3nQE; } goto CnxB8; d4kjy: } protected function _bulidData($request_data) { goto ACwyA; dwHQH: $pid = $data["\x70\151\144"]; goto hlR_h; DxC6z: T10Vp: goto QZFnw; vKOkv: $column[] = "\164\x69\164\154\x65"; goto O11J2; VWf53: $data["\143\x74\x69\x6d\145"] = strtotime($request_data["\x63\164\x69\155\x65"]); goto CCXI3; nfq2w: KiD_D: goto LmBWt; ACwyA: $data = array(); goto vrkiW; QZFnw: $data["\163\x74\141\164\x65"] = isset($data["\163\x74\141\x74\145"]) ? $data["\163\164\x61\164\145"] : 0; goto Rnnzp; CCXI3: kreYL: goto dwHQH; QetR2: $column[] = "\x61\x6c\151\141\163"; goto nfq2w; cnbkJ: $column = array("\151\144"); goto llRIs; LmBWt: $category = $this->db->select($this->table, $column)->where("\151\x64\x20\75\x20{$pid}")->get(); goto jc1mj; O11J2: AL5TY: goto Rc_ru; llRIs: if (!in_array("\164\x69\164\x6c\145", $this->fields)) { goto AL5TY; } goto vKOkv; zVVCC: sRoHB: goto ofpIh; vrkiW: foreach ($this->fields as $field) { goto yYmzG; HjiUW: g0Nzf: goto KY61d; WLKiA: if (!($value !== null)) { goto bwgD5; } goto IZZwP; BRU2W: bwgD5: goto HjiUW; yYmzG: $value = $request_data[$field]; goto WLKiA; IZZwP: $data[$field] = is_array($value) ? json_encode($value) : $this->_encode($value); goto BRU2W; KY61d: } goto DxC6z; ofpIh: return $data; goto ZJUmo; Rc_ru: if (!in_array("\141\154\151\141\x73", $this->fields)) { goto KiD_D; } goto QetR2; hlR_h: if (!($pid > 0 && in_array("\x6a\163\x6f\x6e", $this->fields))) { goto sRoHB; } goto cnbkJ; Rnnzp: if (!isset($request_data["\143\164\x69\155\x65"])) { goto kreYL; } goto VWf53; jc1mj: $data["\x6a\x73\157\156"] = $category ? json_encode(array("\143" => $category)) : ''; goto zVVCC; ZJUmo: } protected function _encode($data) { goto IPjMK; cNZr0: $tmp = clone $data; goto ABNy6; IPjMK: if (!is_array($data)) { goto cSzbh; } goto X5OTi; hbwJW: CLroW: goto HMB21; FULDi: cSzbh: goto iMLpE; TeHr1: return $tmp; goto hbwJW; iMLpE: if (!is_object($data)) { goto CLroW; } goto cNZr0; gYfzH: WCQLK: goto TeHr1; HMB21: return htmlspecialchars($data, ENT_QUOTES); goto XM9Ir; ABNy6: foreach ($data as $k => $v) { $tmp->{$k} = $this->_encode($v); j3l_Q: } goto gYfzH; X5OTi: return array_map(array($this, "\x5f\x65\156\x63\157\144\145"), $data); goto FULDi; XM9Ir: } protected function _decode($data) { goto PMqnd; K06uj: foreach ($data as $k => $v) { $tmp->{$k} = $this->_decode($v); kbuLn: } goto a1MIm; fKd41: h5g8M: goto Y4dwc; a1MIm: ywZbx: goto OoMdR; Y4dwc: return htmlspecialchars_decode($data, ENT_QUOTES); goto yC3lV; zj4ZW: Y8acX: goto tfvNO; OoMdR: return $tmp; goto fKd41; jzw8r: return array_map(array($this, "\137\144\x65\143\157\x64\145"), $data); goto zj4ZW; MXJaF: $tmp = clone $data; goto K06uj; tfvNO: if (!is_object($data)) { goto h5g8M; } goto MXJaF; PMqnd: if (!is_array($data)) { goto Y8acX; } goto jzw8r; yC3lV: } protected function _getTableFields($table) { goto eQZA2; pboer: $i = 0; goto ufEVV; Yxlkr: $table = $this->prefix . $table; goto iKGIE; vf9WF: brfxV: goto Yxlkr; Q0aU5: goto FuUBh; goto RhZXO; G68Fl: hXx45: goto rU118; AZHvZ: return $fields; goto j63Rv; DI4HB: if (!($i < $count)) { goto G8PW4; } goto GrvRz; RhZXO: G8PW4: goto AZHvZ; ufEVV: FuUBh: goto DI4HB; mOz1G: $query = $this->db->query("\x53\x45\114\105\x43\x54\x20\52\40\x46\122\x4f\115\40{$table}"); goto g8UbL; eQZA2: if ($table) { goto brfxV; } goto es3EI; iKGIE: bld9h: goto mOz1G; GrvRz: $column = $query->getColumnMeta($i); goto w53oC; vg0mb: goto bld9h; goto vf9WF; rU118: $i++; goto Q0aU5; g8UbL: $count = $query->columnCount(); goto pboer; es3EI: $table = $this->prefix . $this->table; goto vg0mb; w53oC: $fields[] = $column["\156\x61\155\x65"]; goto G68Fl; j63Rv: } protected function _callback($method, $params) { goto w8_SK; zcQ6W: call_user_func_array(array($this, $method), $params); goto eyYTQ; eyYTQ: kZ8kq: goto eRcwZ; w8_SK: if (!(is_callable(array($this, $method)) !== false)) { goto kZ8kq; } goto zcQ6W; eRcwZ: } protected function _getLevel($pid, $id) { goto UYdOU; m6ZQG: if (!($pid === '')) { goto fWzR0; } goto uYh7D; hGfr4: if (count($list) == 0) { goto FRI43; } goto uhzxk; UYdOU: static $list = array(); goto m6ZQG; mZdaW: return "\54" . $id . "\x2c"; goto RxjiX; uYh7D: $pid = $this->db->select($this->table, "\x70\151\x64")->where(array("\x69\x64", "\x3d", $id))->get(0); goto UGcJq; OfoC0: if (!($pid != 0)) { goto DFUPo; } goto wmFof; Q2lxs: $this->_getLevel('', $pid); goto LWjtl; eFz_i: FRI43: goto mZdaW; LWjtl: DFUPo: goto hGfr4; O08WQ: AQaVz: goto ZYJA4; V54a_: cPMF0: goto Wr_yE; RxjiX: QZsuz: goto lQfYE; uhzxk: if ($id) { goto cPMF0; } goto SA8nK; e9Xfb: goto AQaVz; goto V54a_; SA8nK: return "\x2c" . implode("\x2c", array_reverse($list)) . "\54"; goto e9Xfb; wmFof: $list[] = $pid; goto Q2lxs; UGcJq: fWzR0: goto OfoC0; ZYJA4: goto QZsuz; goto eFz_i; Wr_yE: return "\54" . implode("\x2c", array_reverse($list)) . "\54" . $id . "\x2c"; goto O08WQ; lQfYE: } protected function _saveData($table, $data, $where) { goto Hgwj7; o8wHA: return $this->db->update($table, $data, $where)->is(); goto M09QN; VN1TR: GYW_A: goto o8wHA; M09QN: M3xKg: goto lt9q1; DLtXf: return $this->db->insert($table, $data)->is(); goto zWU8n; zWU8n: goto M3xKg; goto VN1TR; Hgwj7: if ($this->db->select($table)->where($where)->has()) { goto GYW_A; } goto DLtXf; lt9q1: } protected function _saveImages($pid, $request_data) { goto sUAY2; ukXmL: $images_title = $request_data["\x69\155\141\x67\x65\163\x5f\164\x69\164\x6c\145"]; goto Ng66F; y8ck3: $images_order = $request_data["\151\155\141\x67\145\163\137\157\162\x64\x65\x72"]; goto ukXmL; Gv7Bs: nzzIz: goto cA9Cr; mRbab: $data["\x74\171\160\145"] = "\151\x6d\141\x67\145"; goto j1s6Z; j1s6Z: $data["\x70\x69\144"] = $pid; goto vH8QL; FDMP6: $images_path = $request_data["\x69\x6d\141\x67\145\x73\137\160\x61\164\150"]; goto SyxmM; vH8QL: $data["\143\164\x69\x6d\x65"] = time(); goto wjzNJ; sUAY2: $images_id = $request_data["\151\x6d\x61\x67\145\163\137\x69\144"]; goto y8ck3; Ng66F: $images_name = $request_data["\x69\x6d\x61\147\x65\x73\x5f\156\141\x6d\x65"]; goto FDMP6; wjzNJ: foreach ($images_id as $i => $id) { goto u8qHi; p7nzX: $data["\x69\155\x61\147\145\137\x70\141\x74\x68"] = $images_path[$i]; goto D7WLQ; FRi7W: goto sFIHH; goto GVgKX; Y7B2S: unset($data["\x69\155\x61\x67\145"], $data["\x69\155\141\147\145\137\x70\141\x74\x68"]); goto ffQfU; XBZQF: eqd0J: goto VKv1e; Bv4f_: if (empty($id)) { goto bbPem; } goto lczFO; aecms: $data["\x6f\x72\x64\x65\162\x62\x79"] = $images_order[$i]; goto IQ9hK; RbpvW: $data["\x69\x6d\141\147\x65"] = $images_name[$i]; goto p7nzX; D7WLQ: $this->db->insert($this->table, $data); goto Y7B2S; ffQfU: sFIHH: goto XBZQF; lczFO: $this->db->update($this->table, $data, array("\151\x64", "\75", $id)); goto FRi7W; IQ9hK: $data["\x73\164\141\x74\145"] = $images_state[$i]; goto Bv4f_; u8qHi: $data["\x74\x69\x74\154\145"] = $images_title[$i]; goto aecms; GVgKX: bbPem: goto RbpvW; VKv1e: } goto Gv7Bs; SyxmM: $images_state = $request_data["\151\155\141\x67\x65\x73\x5f\x73\164\x61\164\x65"]; goto mRbab; cA9Cr: } protected function _removeFiles2($files) { goto ymxTw; OGtpp: QMJy8: goto umtSc; NO_7Z: $files = json_decode($files, true); goto OGtpp; oSnO0: NpUUj: goto pM2fL; eog1o: D0e7U: goto oSnO0; oRdCf: foreach ($files as $key => $value) { goto FikMO; iF3A3: if ($prefix) { goto hINcE; } goto DBtYU; waCAs: $prefix = $value["\x70\162\145\146\x69\x78"]; goto iF3A3; oKU0C: hINcE: goto MZdPx; DBtYU: $filename = $path . "\x2f" . $name; goto tplvo; Fh3G3: kcXJb: goto q_Pb3; XzeVO: foreach ($prefixs as $prefix) { goto Sitl_; g2upV: if (!file_exists($filename)) { goto mRYTm; } goto hVyhg; Sitl_: $filename = "{$path}\x2f{$prefix}{$name}"; goto g2upV; vk7RZ: x7UmA: goto wp3Vg; uqjVD: mRYTm: goto vk7RZ; hVyhg: unlink($filename); goto uqjVD; wp3Vg: } goto Fh3G3; rB3xb: $path = "\x2e\x2e\x2f" . $value["\x70\x61\164\150"]; goto waCAs; FikMO: $name = $value["\156\141\155\x65"]; goto VWjpz; r8CcX: aXoyS: goto xVyLO; VR5NZ: QeamV: goto dKC7z; xVyLO: goto K4KC1; goto oKU0C; MZdPx: $prefixs = explode("\54", $prefix); goto XzeVO; VWjpz: if ($name) { goto ECMmw; } goto RHks1; nOg1y: unlink($filename); goto r8CcX; RHks1: goto QeamV; goto kMUki; tplvo: if (!file_exists($filename)) { goto aXoyS; } goto nOg1y; q_Pb3: K4KC1: goto VR5NZ; kMUki: ECMmw: goto rB3xb; dKC7z: } goto eog1o; umtSc: if (!$files) { goto NpUUj; } goto oRdCf; ymxTw: if (!(!empty($files) && !is_array($files))) { goto QMJy8; } goto NO_7Z; pM2fL: } protected function _mkdir($path, $mode = 493) { goto XLWWf; aLC3L: return mkdir($path, $mode, true); goto uCWXI; uCWXI: xjC1s: goto qOudJ; XLWWf: if (is_dir($path)) { goto xjC1s; } goto aLC3L; qOudJ: return false; goto jgVYV; jgVYV: } protected function _rmdir($path) { goto Pe_yh; f1woZ: xamiA: goto fwEXY; Pe_yh: if (is_dir($path)) { goto dEM8z; } goto rrKzx; RpFay: return false; goto lyVXk; AxKYX: unlink("{$path}\x2f{$item}"); goto gmHsc; FXVbi: if (!($handle = opendir($path))) { goto K7b5p; } goto R76YQ; vyTAE: o_chr: goto Cuu7w; gHLDO: if (!($item != "\56" && $item != "\x2e\x2e")) { goto uVFU8; } goto y8iiG; y8iiG: if (is_dir("{$path}\x2f{$item}")) { goto EZOZP; } goto AxKYX; Cuu7w: closedir($handle); goto JXX6n; vQDSD: QnTYv: goto Si02a; tsjGC: dEM8z: goto FXVbi; JXX6n: if (rmdir($path)) { goto xamiA; } goto RpFay; Si02a: uVFU8: goto gXJ1Q; S3Dec: if (!(false !== ($item = readdir($handle)))) { goto o_chr; } goto gHLDO; YH62T: $this->_rmdir("{$path}\57{$item}"); goto vQDSD; xHUp9: K7b5p: goto yFYHE; fwEXY: return true; goto DRG59; gXJ1Q: goto bQzsR; goto vyTAE; aa8fr: EZOZP: goto YH62T; lyVXk: goto FerO2; goto f1woZ; DRG59: FerO2: goto xHUp9; rrKzx: return false; goto tsjGC; gmHsc: goto QnTYv; goto aa8fr; R76YQ: bQzsR: goto S3Dec; yFYHE: } protected function _bulidUploadPath($temp_path, $data) { goto dqnbM; rvrTf: return $true_path; goto PFeEk; FdrmA: if (rename("\56\56\x2f" . $temp_path, "\x2e\56\57" . $true_path)) { goto G8pEh; } goto vwN6g; eEQ_7: if (!is_dir("\56\56\57" . $temp_path)) { goto BYRaU; } goto FdrmA; hjSnZ: if (!($path_last == $id)) { goto yQk6X; } goto jikaz; fGuq6: RfuyE: goto eEQ_7; H8REB: $true_path = str_replace($path_last, $data[$vardir], $temp_path); goto fGuq6; QbBT5: $path_last = end(explode("\x2f", $temp_path)); goto hjSnZ; dqnbM: $id = $data["\x69\144"]; goto QbBT5; jikaz: return $temp_path; goto kuTji; RqWPh: $vardir = current(explode("\41\75", $path_last)); goto H8REB; F9Lsy: BYRaU: goto rvrTf; nkVMT: if (!(strpos($path_last, "\41\75") !== false)) { goto RfuyE; } goto RqWPh; vwN6g: $true_path = $temp_path; goto rwfzL; rwfzL: G8pEh: goto F9Lsy; kuTji: yQk6X: goto nkVMT; PFeEk: } protected function _toTree($list, $pk = "\151\144", $pid = "\160\x69\144", $child = "\137\143\150\x69\154\x64", $root = 0) { goto yn421; Zw0k2: return $tree; goto M4sZS; MVNzL: eVM49: goto A4T3e; LltU9: uDwkc: goto Zw0k2; CmKa7: foreach ($list as $key => $data) { $refer[$data[$pk]] =& $list[$key]; HLrY1: } goto MVNzL; yn421: $tree = array(); goto X3wL_; VLlfD: mfMMk: goto LltU9; zjV6d: $refer = array(); goto CmKa7; A4T3e: foreach ($list as $key => $data) { goto REbwM; EfT1q: qKpVD: goto tM9Gn; REbwM: $parentId = $data[$pid]; goto c0qMo; ptzkb: hFV7C: goto F8gwl; c0qMo: if ($root == $parentId) { goto hFV7C; } goto xBf1v; REPL_: goto qKpVD; goto ptzkb; aGrhr: $parent[$child][] =& $list[$key]; goto VXXHZ; Flb30: $parent =& $refer[$parentId]; goto aGrhr; tM9Gn: u83oV: goto UaDsQ; F8gwl: $tree[] =& $list[$key]; goto EfT1q; xBf1v: if (!isset($refer[$parentId])) { goto DIyRP; } goto Flb30; VXXHZ: DIyRP: goto REPL_; UaDsQ: } goto VLlfD; X3wL_: if (!is_array($list)) { goto uDwkc; } goto zjV6d; M4sZS: } protected function _rand($length, $islowercase = true, $isuppercase = true, $isnumber = true, $isspecial = false) { goto cV2dK; nIErF: return $result; goto fobs4; cV2dK: if (!$islowercase) { goto lxlHN; } goto m9kZ7; m9kZ7: $chars .= "\x61\x62\x63\144\x65\146\147\150\x69\152\x6b\x6c\x6d\156\x6f\160\x71\162\163\x74\165\x76\x77\x78\171\x7a"; goto z_sLZ; H0bPn: ooiWO: goto nIErF; gs0EI: $i = 0; goto vflHj; Pt7h2: $result = ''; goto Y8Ij3; mJlss: $i++; goto gvSyA; zJVNm: T806F: goto UaVEE; vbi8f: $chars .= "\41\x40\x23\44\45\x5e\46\52\50\51"; goto YzteJ; yPsBi: cNbOT: goto mJlss; vflHj: hZNf2: goto qcfRi; fPJfT: if (!$isuppercase) { goto oYpAX; } goto tFhTy; w6t0s: if (!$isnumber) { goto T806F; } goto SzHM4; z_sLZ: lxlHN: goto fPJfT; tFhTy: $chars .= "\101\x42\103\x44\x45\106\x47\110\111\x4a\113\114\115\116\x4f\120\121\122\123\124\x55\126\x57\130\131\x5a"; goto wK3u0; SzHM4: $chars .= "\60\x31\62\63\x34\65\66\67\x38\x39"; goto zJVNm; wK3u0: oYpAX: goto w6t0s; Y8Ij3: $max = strlen($chars) - 1; goto gs0EI; UaVEE: if (!$isspecial) { goto HHqzA; } goto vbi8f; b1t_7: $result .= $chars[rand(0, $max)]; goto yPsBi; qcfRi: if (!($i < $length)) { goto ooiWO; } goto b1t_7; gvSyA: goto hZNf2; goto H0bPn; YzteJ: HHqzA: goto Pt7h2; fobs4: } protected function _UTF82GBK($str) { goto ZizcB; WAHG1: return iconv("\x55\124\x46\55\x38", "\107\x42\113\x2f\x2f\111\107\116\x4f\x52\105", $str); goto l5fFi; CA3av: goto rmz3L; goto UF_r6; ZizcB: if (stripos(php_uname("\163"), "\x57\x69\x6e\144\x6f\x77") !== false) { goto qbwq4; } goto xYHwC; xYHwC: return $str; goto CA3av; UF_r6: qbwq4: goto WAHG1; l5fFi: rmz3L: goto tR3ko; tR3ko: } protected function _serialize($obj) { return base64_encode(gzcompress(serialize($obj))); } protected function _unserialize($txt) { return unserialize(gzuncompress(base64_decode($txt))); } protected function _getIP() { goto TJGOb; XV_15: iBS9q: goto hobrN; tqoOo: $realip = $realip[0]; goto imKsq; fxwWd: LK53f: goto bL5IW; zNUG8: goto otA8q; goto fxwWd; Kuv9Z: if (isset($_SERVER["\x48\x54\x54\x50\137\130\x5f\x46\x4f\x52\x57\x41\122\x44\x45\104\x5f\106\117\x52"])) { goto IphjC; } goto zYZ6_; eoX5p: $realip = getenv("\x48\x54\x54\120\x5f\x58\137\x46\117\x52\127\x41\x52\x44\105\104\137\106\x4f\122"); goto EMMk4; SZr3F: $realip = empty($realip) ? $_SERVER["\x52\105\x4d\117\x54\x45\137\101\x44\104\x52"] : $realip; goto kBODg; O0ped: BN_8z: goto Kuv9Z; rLQEB: $realip = explode("\54", $realip); goto tqoOo; jinT3: $realip = getenv("\110\x54\124\120\x5f\103\x4c\x49\x45\x4e\x54\x5f\x49\x50"); goto Ek44E; OrK5Q: $realip = getenv("\x52\105\x4d\x4f\124\x45\x5f\x41\x44\x44\x52"); goto pzoSy; AjN4K: jWZVe: goto eoX5p; pzoSy: goto aJC1X; goto AjN4K; oLPHZ: if (getenv("\x48\124\x54\120\137\x43\x4c\x49\x45\x4e\124\137\111\120")) { goto qZQqu; } goto OrK5Q; BWW9g: $realip = $realip[0]; goto SZr3F; s8w5X: IphjC: goto X7fjX; TJGOb: if (isset($_SERVER)) { goto BN_8z; } goto GtZF9; EMMk4: $realip = explode("\x2c", $realip); goto BWW9g; GtZF9: if (getenv("\x48\124\x54\x50\x5f\x58\x5f\106\117\x52\127\101\122\x44\x45\x44\x5f\106\x4f\x52")) { goto jWZVe; } goto oLPHZ; imKsq: $realip = empty($realip) ? $_SERVER["\x52\105\115\117\x54\105\x5f\x41\104\x44\x52"] : $realip; goto zNUG8; JC0j3: goto iBS9q; goto O0ped; kBODg: goto aJC1X; goto Vz40l; dxWa4: otA8q: goto XV_15; btzCz: goto otA8q; goto s8w5X; hobrN: return $realip; goto HY0AE; zYZ6_: if (isset($_SERVER["\x48\x54\x54\120\137\x43\114\x49\105\x4e\x54\x5f\111\x50"])) { goto LK53f; } goto aasZX; bL5IW: $realip = $_SERVER["\x48\124\x54\x50\x5f\x43\114\x49\105\x4e\124\x5f\x49\120"]; goto dxWa4; aasZX: $realip = $_SERVER["\122\105\x4d\117\124\105\137\101\x44\x44\x52"]; goto btzCz; Vz40l: qZQqu: goto jinT3; Ek44E: aJC1X: goto JC0j3; X7fjX: $realip = $_SERVER["\x48\124\124\120\x5f\130\x5f\x46\117\122\x57\x41\122\x44\105\104\x5f\106\x4f\x52"]; goto rLQEB; HY0AE: } protected function _trash($item, $request_data) { goto RZ7Me; hgYfV: return $this->db->insert("\x74\x72\x61\163\150", $data)->is(); goto d2oGO; jdDBq: $data["\x6e\x6f\x74\145"] = $request_data["\x6e\157\x74\145"]; goto I6e8e; Xr4Gc: $data["\x63\164\x69\155\145"] = time(); goto hgYfV; lmVCj: $data["\160\141\x74\x68"] = $path ? $item[$path] : ''; goto MiYFt; XKmwY: $data["\141\x64\x6d\151\156\x5f\151\144"] = $this->admin["\151\144"]; goto TiI4y; MiYFt: $data["\x74\141\x62\154\x65"] = $this->table; goto dcY20; RZ7Me: $data = array(); goto XKmwY; gjG3X: $path = $request_data["\160\x61\164\x68"]; goto lmVCj; BSWMb: $data["\163\x74\x61\164\x65"] = 0; goto Xr4Gc; I6e8e: $data["\x74\x69\164\x6c\x65"] = $item["\164\151\x74\x6c\145"]; goto gjG3X; dcY20: $data["\144\x61\x74\141"] = json_encode($item); goto BSWMb; TiI4y: $data["\141\x64\155\x69\x6e\137\x6e\141\x6d\145"] = $this->admin["\x6e\141\155\x65"]; goto jdDBq; d2oGO: } protected function _log($type, $data = array()) { goto QGup5; RVrlE: n_dce: goto ok1lY; TUSPZ: $data["\143\164\151\155\x65"] = time(); goto gOAD3; gOAD3: return $this->db->insert("\x6c\x6f\x67", $data)->is(); goto Oid6h; Craj6: $data["\x69\x70"] = $this->_getIP(); goto TUSPZ; QGup5: if (!($type != "\154\157\x67\x69\x6e")) { goto n_dce; } goto SbA2L; ok1lY: $data["\x74\x61\142\154\x65"] = $this->table; goto YXqW7; Yuwzq: $data["\x75\162\x6c"] = $_SERVER["\110\124\x54\120\137\x52\x45\106\x45\x52\x45\x52"]; goto RVrlE; vFIe1: $data["\141\x64\x6d\x69\156\x5f\156\141\x6d\x65"] = $this->admin["\x6e\141\x6d\x65"]; goto Yuwzq; SbA2L: $data["\141\x64\x6d\x69\x6e\137\151\144"] = $this->admin["\x69\144"]; goto vFIe1; YXqW7: $data["\x74\x79\160\145"] = $type; goto Craj6; Oid6h: } protected function _debug($message) { $log = ifeiwu\Log::getInstance(); $log->debug($message); } }
