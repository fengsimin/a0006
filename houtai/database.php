<?php
//Copyright (c) 2016 iFeiwu.com
 class Database extends Ifeiwu { function __construct() { $this->table = ''; parent::__construct(); } protected function postBackup() { goto MUbW4; gKzXJ: if ($name !== false) { goto QfdNK; } goto ZlieM; aseKl: $name = $mb->export(); goto gKzXJ; ZlieM: return $this->error(); goto BnAR1; o2zPf: return $this->success('', $name); goto RWh4c; G3hhx: QfdNK: goto o2zPf; MUbW4: ifeiwu\Loader::import("\x65\x78\164\145\156\144\57\115\x79\x73\x71\x6c\x42\x61\x63\x6b\x75\x70"); goto bO8gX; RWh4c: vFPoB: goto qmuhV; bO8gX: $mb = new MysqlBackup(); goto aseKl; BnAR1: goto vFPoB; goto G3hhx; qmuhV: } protected function postReply($filename) { goto sTtWM; fGg3R: return $this->error(json_encode($errors)); goto T73GT; T73GT: goto ndgGL; goto MJs5N; hrmDf: $mb = new MysqlBackup(); goto GRFxq; XCJQR: ndgGL: goto Uf7ee; MJs5N: OZyzx: goto HwV3D; GRFxq: $errors = $mb->import($filename); goto yd9xZ; yd9xZ: if (!$errors) { goto OZyzx; } goto fGg3R; HwV3D: return $this->success(); goto XCJQR; sTtWM: ifeiwu\Loader::import("\145\x78\x74\145\x6e\x64\57\115\x79\163\161\x6c\x42\x61\143\153\165\160"); goto hrmDf; Uf7ee: } protected function getSqls() { goto RYQs_; lUIZf: return array_reverse($files); goto s36eu; dXiLj: n6hyF: goto eGsD2; j2Ubh: C2air: goto mUXzc; RYQs_: $dir = "\x73\161\154\x2f"; goto UlUjJ; HS14g: mrIaa: goto X7SrD; UlUjJ: if (!(false != ($handle = opendir($dir)))) { goto ySi7j; } goto j2Ubh; vA4FA: if (!($file != "\x2e" && $file != "\56\x2e" && strpos($file, "\56"))) { goto n6hyF; } goto EvExR; mUXzc: if (!(false !== ($file = readdir($handle)))) { goto mrIaa; } goto vA4FA; X7SrD: closedir($handle); goto t0SRX; EvExR: $stat = stat($dir . $file); goto q5U31; q5U31: $files[] = array("\156\x61\155\145" => $file, "\x73\x69\x7a\x65" => $stat["\163\x69\172\x65"], "\143\164\x69\x6d\x65" => $stat["\143\164\x69\155\145"]); goto dXiLj; eGsD2: goto C2air; goto HS14g; t0SRX: ySi7j: goto lUIZf; s36eu: } protected function postDelete($filename) { goto TIC3L; SPqak: goto sRfoJ; goto wnml5; wnml5: OKQj7: goto BANSa; TIC3L: if (unlink("\x73\161\x6c\57{$filename}") !== false) { goto OKQj7; } goto Ggz3t; BANSa: return $this->success(); goto h1M5G; Ggz3t: return $this->error(); goto SPqak; h1M5G: sRfoJ: goto BzpDm; BzpDm: } }
