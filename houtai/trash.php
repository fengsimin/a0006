<?php
//Copyright (c) 2016 iFeiwu.com
 class Trash extends Item { function __construct() { $this->table = "\x74\162\x61\x73\150"; parent::__construct(); } protected function postDelete($request_data) { goto zYSNR; xjD_T: hbIJm: goto WHL9e; uTbYb: goto hbIJm; goto mFPhq; NrJU2: foreach ($ids as $id) { goto t_bHG; Et_Y2: goto QqiW4; goto QR9Le; QR9Le: KZ8VK: goto YN3Lj; pAeqn: $error[] = $trash["\x74\151\164\154\x65"]; goto Et_Y2; cfiCS: $this->_rmdir("\56\56\x2f" . $path); goto SKKfc; u7LxM: $path = $trash["\x70\x61\164\150"]; goto TBTRc; t_bHG: $trash = $this->db->select($this->table)->where(array("\151\x64", "\75", $id))->get(); goto u7LxM; WmGwG: GvHL1: goto DRKpl; xNl33: QqiW4: goto WmGwG; SKKfc: moDg1: goto xNl33; YN3Lj: if (!($path && count(explode("\57", $path)) >= 2)) { goto moDg1; } goto cfiCS; TBTRc: if ($this->db->delete($this->table, array("\x69\144", "\x3d", $id))->is()) { goto KZ8VK; } goto pAeqn; DRKpl: } goto kQGNC; kQGNC: m2ivu: goto w0Adp; zYSNR: $error = array(); goto nI5Z3; nI5Z3: $ids = $request_data["\x69\144"]; goto x_rup; w0Adp: if (count($error) === 0) { goto yUJU8; } goto S7Eli; x_rup: $this->db->beginTransaction(); goto NrJU2; REN0F: $this->db->commit(); goto xM0Co; mFPhq: yUJU8: goto REN0F; fCbA1: return $this->success(); goto xjD_T; xM0Co: $this->_log("\144\145\x6c\145\164\145", array("\164\151\164\154\x65" => count($ids))); goto fCbA1; UBMdf: return $this->error(); goto uTbYb; S7Eli: $this->db->rollBack(); goto UBMdf; WHL9e: } protected function postReplay($request_data) { goto z0TBJ; Tb3OK: return $this->success(); goto pQcDg; LPjrI: if (count($error) === 0) { goto ACJGL; } goto cpVPQ; iEb76: Ow0F7: goto LPjrI; uAccx: goto tI6HS; goto SBVwv; SBVwv: ACJGL: goto tdEHx; pkwTh: foreach ($ids as $id) { goto kW2vE; BlOSG: $isadd = $this->db->insert($table, json_decode($trash["\x64\141\x74\141"], true)); goto qWGM1; WPtNk: $table = $trash["\164\141\x62\154\x65"]; goto BlOSG; LCZ6i: yEv_e: goto SVEis; Zl1wl: JXDQr: goto foFEC; qWGM1: if ($isadd === false) { goto yEv_e; } goto SbNU2; k9b0Q: goto JXDQr; goto LCZ6i; kW2vE: $trash = $this->db->select($this->table)->where(array("\x69\x64", "\75", $id))->get(); goto WPtNk; SVEis: $error[] = $trash["\164\151\x74\154\x65"]; goto Zl1wl; SbNU2: $this->db->delete($this->table, array("\151\x64", "\x3d", $id)); goto k9b0Q; foFEC: S7epO: goto s2NP4; s2NP4: } goto iEb76; qhrJ2: return $this->error(); goto uAccx; QEBaD: $this->_log("\162\x65\x70\x6c\x79", array("\x74\151\x74\x6c\145" => count($ids))); goto Tb3OK; pQcDg: tI6HS: goto wMdvZ; z0TBJ: $error = array(); goto Zc0ih; Zc0ih: $ids = $request_data["\x69\144"]; goto k1zJ5; k1zJ5: $this->db->beginTransaction(); goto pkwTh; cpVPQ: $this->db->rollBack(); goto qhrJ2; tdEHx: $this->db->commit(); goto QEBaD; wMdvZ: } }
